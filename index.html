<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quiz Anniversary</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
      background: #fefefe;
    }
    .page {
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 100%;
      height: 100%;
      padding: 20px;
    }
    .active {
      display: flex;
    }
    button {
      margin: 8px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    img {
      max-width: 90%;
      max-height: 70vh;
      margin: 10px 0;
    }
    .grid {
      display: grid;
      gap: 10px;
    }
    .grid-3 { grid-template-columns: repeat(3, 1fr); }
    .grid-4 { grid-template-columns: repeat(4, 1fr); }
  </style>
</head>
<body>

  <!-- Opening -->
  <div class="page active" id="opening">
    <h2>Selamat datang di Quiz Anniversary Kita!</h2>
    <p>Anda akan diarahkan menuju Quiz! Silahkan menjawab pertanyaan dengan benar untuk lanjut ke babak selanjutnya. Jika salah, ulang dari awal wahahaha.</p>
    <button onclick="startQuiz()">Gass ke quiz</button>
  </div>

  <!-- Quiz pages -->
  <div class="page" id="quiz"></div>

  <!-- Slideshow / messages -->
  <div class="page" id="slideshow"></div>

  <!-- Audio -->
  <audio id="bg-music" autoplay loop></audio>

<script>
  const pages = document.querySelectorAll(".page");
  const opening = document.getElementById("opening");
  const quizPage = document.getElementById("quiz");
  const slideshow = document.getElementById("slideshow");
  const bgMusic = document.getElementById("bg-music");

  // pertanyaan quiz
  const questions = [
    {
      q: "Kapan tanggal kita first date?",
      options: ["4 April 2024","2 Maret 2024","10 Februari 2024","20 Januari 2024"],
      answer: 1
    },
    {
      q: "Waktu first date, Dede pakai baju seperti apa?",
      options: ["Baju Polo Shirt Krem","Baju Hem Putih","Kaos Ala KCS","Turtle Neck"],
      answer: 3
    },
    {
      q: "Dimana Dede nembak kamu?",
      options: ["Di Samator","Union","De Soematra","Locaahands"],
      answer: 2
    },
    {
      q: "Beli dimana bunga yang dikasih Dede waktu nembak?",
      options: ["Fleurichi","Amaneki","La voire","Bunga kebun sendiri"],
      answer: 1
    },
    {
      q: "Bulan dan tahun berapa Dede deketin kamu?",
      options: ["November 2024","Januari 2025","Desember 2024","Maret 2025"],
      answer: 2
    }
  ];

  let currentQuestion = 0;

  window.onload = () => {
    bgMusic.src = "Mario.mp3"; // lagu pembuka & quiz
    bgMusic.play();
  };

  function showPage(el) {
    pages.forEach(p => p.classList.remove("active"));
    el.classList.add("active");
  }

  function startQuiz() {
    currentQuestion = 0;
    showQuestion();
  }

  function showQuestion() {
    showPage(quizPage);
    const q = questions[currentQuestion];
    quizPage.innerHTML = `<h2>${q.q}</h2>`;
    q.options.forEach((opt,i) => {
      const btn = document.createElement("button");
      btn.textContent = opt;
      btn.onclick = () => checkAnswer(i);
      quizPage.appendChild(btn);
    });
  }

  function checkAnswer(choice) {
    const q = questions[currentQuestion];
    if (choice === q.answer) {
      currentQuestion++;
      if (currentQuestion < questions.length) {
        showQuestion();
      } else {
        finishQuiz();
      }
    } else {
      showPage(opening);
    }
  }

  function finishQuiz() {
    // Ganti lagu dari Mario.mp3 ke Lagu.mp3
    bgMusic.pause();
    bgMusic.src = "Lagu.mp3";
    bgMusic.play();

    // tampilin pesan berhasil
    showPage(slideshow);
    slideshow.innerHTML = "<h2>Yeyy kamu berhasil menjawab semua pertanyaannyaa</h2>";
    setTimeout(startSlideshow, 2000);
  }

  // konten slideshow
  const slides = [
    {text: "Hari ini adalah Anniversary kita yang ke 1 tahunn. We have gone through a lot of things together dengan berbagai warna dan dinamika nya. Aku bersyukur bisa kenal sama Wanita cantik dan kuat sepertimu. Walaupun kamu terlihat fierce dan most of the time you are fierce, but deep down I know there is a soft spot in you. I am proud to accompany and create a lot of beautiful memories with you", duration: 5000},
    {text: "Let's create more memories together! Oh ya, I want to show few of the memories we created (because it is a lot)", duration: 2000},
    {img: "photo1.jpg", caption: "Our first call together! when I was in Palembang lol", duration: 2000},
    {img: "photo2.jpg", caption: "Our first date! Hayoo ini kita dimana dan makan es krim rasa apaa", duration: 2000},
    {img: "photo3.jpg", caption: "This is when I left Samator :(. We were sadd at that time, but its for the better of us", duration: 2000},
    {imgs: ["photo4.1.jpg","photo4.2.jpg","photo4.3.jpg"], caption: "When we finally became a couple! I remembered you cried waktu aku nembak kamuu", duration:3000, grid:"grid-3"},
    {img: "photo5.jpg", caption: "Our first Christams together, and as a couple", duration:2000},
    {imgs: ["photo6.1.jpg","photo6.2.jpg","photo6.3.jpg","photo6.4.jpg"], caption:"When we celebrated our birthday togetherr. Ini yang 2024 dan 2025", duration:2000, grid:"grid-4"},
    {img:"photo7.jpg", caption:"Ah dan ini tali keberuntungan yang kamu kasih ke aku. You said so it can heal my wound", duration:2000},
    {imgs:["photo8.1.jpg","photo8.2.jpg","photo8.3.jpg","photo8.4.jpg","photo8.5.jpg","photo8.6.jpg","photo8.7.jpg","photo8.8.jpg","photo8.9.jpg","photo8.10.jpg","photo8.11.jpg","photo8.12.jpg","photo8.13.jpg"], caption:"Andd other memoriess", duration:3000, grid:"grid-4"},
    {text:"Let's grow, create more and more memories together. I love you sayangg", duration:2000}
  ];

  let currentSlide = 0;

  function startSlideshow() {
    currentSlide = 0;
    nextSlide();
  }

  function nextSlide() {
    if (currentSlide >= slides.length) return;
    const s = slides[currentSlide];
    slideshow.innerHTML = "";
    if (s.text) {
      const p = document.createElement("p");
      p.textContent = s.text;
      slideshow.appendChild(p);
    }
    if (s.img) {
      const cap = document.createElement("p");
      cap.textContent = s.caption;
      slideshow.appendChild(cap);
      const img = document.createElement("img");
      img.src = s.img;
      slideshow.appendChild(img);
    }
    if (s.imgs) {
      const cap = document.createElement("p");
      cap.textContent = s.caption;
      slideshow.appendChild(cap);
      const grid = document.createElement("div");
      grid.className = "grid " + (s.grid || "");
      s.imgs.forEach(src => {
        const im = document.createElement("img");
        im.src = src;
        grid.appendChild(im);
      });
      slideshow.appendChild(grid);
    }
    currentSlide++;
    setTimeout(nextSlide, s.duration);
  }
</script>

</body>
</html>
